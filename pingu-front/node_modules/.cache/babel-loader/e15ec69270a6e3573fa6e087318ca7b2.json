{"ast":null,"code":"var _jsxFileName = \"/Users/choigabju/Desktop/\\u110E\\u116C\\u110C\\u1169\\u11BC\\u110B\\u1170\\u11B8/pingu-front/src/UploadPage.js\";\nimport React from 'react';\nimport { Link, Routes, Route } from 'react-router-dom';\nimport NaverPage from './NaverPage';\nimport SsgPage from './SsgPage';\nimport CoupangPage from './CoupangPage';\nimport MusinsaPage from './MusinsaPage';\nimport naver from './버튼 이미지/naver.png';\nimport ssg from './버튼 이미지/ssg.png';\nimport loading from './버튼 이미지/mintloading.gif';\nimport musinsa from './버튼 이미지/musinsa.png';\nimport pinguw from './버튼 이미지/pinguw.png';\nclass UploadPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selectedImage: null,\n      image: null,\n      ocrImage: null,\n      loading: false\n    };\n    this.handleHomeClick = () => {\n      this.setState({\n        selectedImage: null,\n        image: null,\n        ocrImage: null,\n        loading: false\n      });\n    };\n    this.handleImageChange = e => {\n      const file = e.target.files[0];\n      this.setState({\n        selectedImage: file\n      });\n    };\n    this.handleUploadClick = async () => {\n      const file = this.state.selectedImage;\n      if (!file) return;\n      const formData = new FormData();\n      formData.append('image', file);\n      this.setState({\n        loading: true,\n        // 로딩 시작\n        image: URL.createObjectURL(file) // 원본 이미지 미리보기 설정\n      });\n      try {\n        // Django 서버의 엔드포인트를 사용하세요.\n        const response = await fetch('http://localhost:8000/api/upload', {\n          method: 'POST',\n          body: formData\n        });\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n\n        // Django 서버에서 반환하는 응답의 형식에 따라 코드를 수정하세요.\n        const data = await response.json();\n        if (data.ocrImage) {\n          this.setState({\n            ocrImage: data.ocrImage\n          });\n        }\n      } catch (error) {\n        console.error('There has been a problem with your fetch operation:', error);\n      } finally {\n        this.setState({\n          loading: false // 로딩 종료\n        });\n      }\n    };\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      id: \"upload\",\n      onChange: this.handleImageChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"upload-button\",\n      onClick: this.handleUploadClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, \"Upload\")), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        marginTop: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, this.state.loading ? /*#__PURE__*/React.createElement(\"img\", {\n      src: loading,\n      alt: \"Loading...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }) : this.state.ocrImage ? /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.ocrImage,\n      className: \"uploaded-img\",\n      alt: \"OCR Image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 15\n      }\n    }) : this.state.image && /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.image,\n      className: \"uploaded-img\",\n      alt: \"Uploaded\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 35\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"ocr-result\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button-container\",\n      style: {\n        marginTop: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/naver_P\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: naver,\n      className: \"button-img\",\n      alt: \"naver\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(Link, {\n      to: \"/ssg_P\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: ssg,\n      className: \"button-img\",\n      alt: \"ssg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(Link, {\n      to: \"/musinsa_P\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: musinsa,\n      className: \"button-img\",\n      alt: \"musinsa\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 15\n      }\n    })))));\n  }\n}\nexport default UploadPage;","map":{"version":3,"names":["React","Link","Routes","Route","NaverPage","SsgPage","CoupangPage","MusinsaPage","naver","ssg","loading","musinsa","pinguw","UploadPage","Component","constructor","args","state","selectedImage","image","ocrImage","handleHomeClick","setState","handleImageChange","e","file","target","files","handleUploadClick","formData","FormData","append","URL","createObjectURL","response","fetch","method","body","ok","Error","data","json","error","console","render","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","display","flexDirection","alignItems","justifyContent","type","id","onChange","onClick","marginTop","src","alt","className","to"],"sources":["/Users/choigabju/Desktop/최종웹/pingu-front/src/UploadPage.js"],"sourcesContent":["import React from 'react';\nimport { Link, Routes, Route } from 'react-router-dom';\nimport NaverPage from './NaverPage';\nimport SsgPage from './SsgPage';\nimport CoupangPage from './CoupangPage';\nimport MusinsaPage from './MusinsaPage';\nimport naver from './버튼 이미지/naver.png';\nimport ssg from './버튼 이미지/ssg.png';\nimport loading from './버튼 이미지/mintloading.gif';\nimport musinsa from './버튼 이미지/musinsa.png';\nimport pinguw from './버튼 이미지/pinguw.png';\n\nclass UploadPage extends React.Component {\n  state = {\n    selectedImage: null,\n    image: null,\n    ocrImage: null,\n    loading: false,\n  };\n\n  handleHomeClick = () => {\n    this.setState({\n      selectedImage: null,\n      image: null,\n      ocrImage: null,\n      loading: false,\n    });\n  };\n\n  handleImageChange = (e) => {\n    const file = e.target.files[0];\n    this.setState({\n      selectedImage: file\n    });\n  };\n\n  handleUploadClick = async () => {\n    const file = this.state.selectedImage;\n    if (!file) return;\n\n    const formData = new FormData();\n    formData.append('image', file);\n\n    this.setState({\n      loading: true, // 로딩 시작\n      image: URL.createObjectURL(file), // 원본 이미지 미리보기 설정\n    });\n\n    try {\n      // Django 서버의 엔드포인트를 사용하세요.\n      const response = await fetch('http://localhost:8000/api/upload', {\n        method: 'POST',\n        body: formData\n      });\n\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n\n      // Django 서버에서 반환하는 응답의 형식에 따라 코드를 수정하세요.\n      const data = await response.json();\n\n      if (data.ocrImage) {\n        this.setState({\n          ocrImage: data.ocrImage\n        });\n      }\n    } catch (error) {\n      console.error('There has been a problem with your fetch operation:', error);\n    } finally {\n      this.setState({\n        loading: false, // 로딩 종료\n      });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        {/*<header style={{ display: 'flex', alignItems: 'flex-start', justifyContent: 'flex-start', backgroundImage: 'linear-gradient(to right, #E91E63, #9C27B0, #667eea)', marginBottom: '20px' }}>\n          <Link to=\"/\" onClick={this.handleHomeClick}>\n            <button type=\"button\" style={{ border: 'none', background: 'none' }}>\n              <img src={pinguw} className=\"button-img\" style={{ width: '100px', height: '100px' }} alt=\"Home\" />\n              <h2 style={{ color: '#FFFFFF' }}>Pingu OCR</h2>\n            </button>\n          </Link>\n        </header>\n    */}\n\n        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n          <input type=\"file\" id=\"upload\" onChange={this.handleImageChange} />\n          <button id=\"upload-button\" onClick={this.handleUploadClick}>Upload</button>\n        </div>\n\n        <div style={{ display: 'flex', justifyContent: 'center', marginTop: '20px' }}>\n          {this.state.loading ? (\n            <img src={loading} alt=\"Loading...\" />\n          ) : (\n            this.state.ocrImage ? (\n              <img src={this.state.ocrImage} className=\"uploaded-img\" alt=\"OCR Image\" />\n            ) : (\n              this.state.image && <img src={this.state.image} className=\"uploaded-img\" alt=\"Uploaded\" />\n            )\n          )}\n        </div>\n\n\n        <div id=\"ocr-result\"></div>\n\n        <div className=\"button-container\" style={{ marginTop: '20px' }}>\n          <Link to=\"/naver_P\">\n            <button type=\"button\">\n              <img src={naver} className=\"button-img\" alt=\"naver\" />\n            </button>\n          </Link>\n\n          <Link to=\"/ssg_P\">\n            <button type=\"button\">\n              <img src={ssg} className=\"button-img\" alt=\"ssg\" />\n            </button>\n          </Link>\n\n          <Link to=\"/musinsa_P\">\n            <button type=\"button\">\n              <img src={musinsa} className=\"button-img\" alt=\"musinsa\" />\n            </button>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default UploadPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}