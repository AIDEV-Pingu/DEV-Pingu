# Pingu's Price Analysis Portal (PPAP)
Programmers Dev코스 4조 핑구입니당~~

### 진열대 상품 가격표 인식을 통한 최저가 사이트 제공

- 프로젝트 기간 : 2023.12.20.(금)  ~ 2024.01.26.(목)



### 🤝팀원

| 이름   | 담당 영역                                                    | Github                        |
| ------ | ------------------------------------------------------------ | ----------------------------- |
| 최갑주 | 모델링, 웹 크롤링, 프론트엔드| https://github.com/Choigapju |
| 성현규 | 모델링, 백엔드, AWS 배포| https://github.com/QhyunQ |
| 서이환 | 전처리, 모델링 | https://github.com/kawaipato |
| 김정연 | 전처리, YOLOv8 및 OCR 모델링, 프론트엔드 | https://github.com/JY-maru |
| 강아현 | 모델링, 프론트엔드, 백엔드 | https://github.com/ahyun39 |




### 📝Description

- [상세화면(추후 업로드)]() 
- OCR로 진열대 상품 가격표 인식 후 해당 상품의 최저가 사이트를 제공한다.
- 기획의도: 오프라인 매장에서 물건을 구매할 때 해당 상품의 최저가가 궁금할 때가 많다.
    - 오프라인 매장별로도 할인율이 제각각이다.
    - 어느 매장은 정가 어느 매장은 할인을 하는 경우가 있는데 이는 온라인에서 편차가 더욱 크다.




### 🥇GOAL

- 사용자의 이미지 내 가격표만 인식한다.
- 인식된 가격표에서 텍스트만 추출한다.
- 추출된 텍스트에서 상품명과 가격을 뽑아와서 해당 상품의 최저가 가격 정보를 제공한다.
- Django, React 등을 활용한 실제 서비스 설계


### 💻 필수 요구사항

| No.  | 구분               | 기능                                 | 구현 정도(⭐⭐⭐⭐⭐)                                            |
| ---- | ------------------ | ------------------------------------ | ----------------------------------------------------------- |
|    1 |이미지 업로드 및 처리    | 사용자의 가격표 이미지 업로드             | ⭐⭐⭐⭐⭐ |
|    2 |가격표 탐지(YOLOv8)    |  가격표 탐지 및 이미지 크롭 |  ⭐⭐⭐⭐ | 
|    3 |OCR                 | 이미지에서 텍스트를 추출                 |  ⭐⭐⭐⭐ | 
|    4 |NER                 | 추출된 텍스트 중에서 상품명을 식별         | ⭐⭐⭐⭐ | 
|    5 |상품명 검색 기능        | 사용자가 제공한 정보를 처리 (상품명, 가격)  | |
|    6 |가격 비교 및 표시       | 추출한 상품명을 기반으로 크롤링 후 최저가 제공 | ⭐⭐⭐⭐⭐ |
|    7 |                    | 검색 결과를 사용자에게 제공하는 인터페이스   | |



### 🛠Tech Stack

![image](https://github.com/AIDEV-Pingu/DEV-Pingu/assets/70644095/96b29488-2837-411d-a1c8-7f4a53800c96)





### 🏔컴포넌트 구조

![image](https://github.com/AIDEV-Pingu/DEV-Pingu/assets/70644095/01e3b357-3f96-4e12-8c0a-10b0918f5177)



### 🎮 서비스 플로우 차트

![pingu_flow](https://github.com/AIDEV-Pingu/DEV-Pingu/assets/70644095/0ee465ab-f40e-411e-a304-60ce706e6868)



### 📅개발일지

| No.  | Date     | Category   | Function                                                         | Done                                                         |
| ---- | -------- | ------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
|     1|2024/01/05|  CV   | 가격표 크롭 | 직접 찍은 이미지에서 가격표만 크롭하기 구현 - Roboflow API 사용 |
|     2|2024/01/05|  CV   | 가격표 크롭 | 가격표만 추출하는 모델 추가적으로 서치 |
|     3|2024/01/05|  NLP   | 상품명 추출 | 가격표 내 텍스트 전체 불러오기 |
|     4|2024/01/08|  WEB   | 상품 정보 크롤링 | 쇼핑몰 사이트 크롤링해서 상품 정보 가져오기 |
|     5|2024/01/08|  CV   | 가격표 크롭 | Roboflow API로 크롭되지 않은 이미지는 contour로 가격표 인식해서 가져오도록 구현 |
|     6|2024/01/09|  CV   | 가격표 크롭 및 OCR | 가격표만 정교하게 크롭한 후 OCR API로 이미지 내 텍스트만 추출 |
|     7|2024/01/15|  NLP   | 상품명 추출 | 텍스트 내에서 상품명과 가격 추출 |
|     8|2024/01/16|  WEB   | 웹 구현 (Front) | 이미지 업로드 및 업로드 된 이미지 불러오기 |
|     9|2024/01/17|  WEB   | 웹 구현 (Back)    | 이미지에서 크롭 -> OCR -> NER 진행 후 <br /><상품명>과 <가격>, <크롭된 이미지> 보여주기 구현 |
|    10|2024/01/18|  NLP   | 상품명 추출 | ko_core_news_lg 모델, ner + attributer_ruler 학습한 모델<br />**- 추가적인 모델링 작업으로 모델 성능 높이는 중** |
|    11|2024/01/19|  NLP   | 상품명 추출 | 상품명만 인식하는 모델, 가격만 인식하는 모델 생성 |
|    12|2024/01/19|  WEB   | 웹 구현 | React, Django 연결 |
|    13|2024/01/22|  NLP   | 모델링 완성 | 성능이 높은 4가지의 모델을 결합하여 앙상블 모델 생성  |
|    14|2024/01/24|  WEB   | 웹 구현(Back) | 전체 페이지 django로 구현 |
|    15|2024/01/25|  WEB   | 웹 구현(Back) | Template .html 수정 | 


### 💎배웠던 점

| Name   | Content                                                      |
| ------ | ------------------------------------------------------------ |
| 최갑주  | 팀 형식이 아니라 개인 프로젝트 위주로 진행하여 git 사용빈도가 현저히 적었는데 프로젝트 진행하면서 깃 정리와 NLP에서 syntax 분석, 텍스트 전처리 하는 작업을 명확히 하며 관련 과정들에 대한 이해도가 올랐다. 이슈관리를 위해 소통이 끊이지 않아야 한다는 점을 다시 한 번 배웠다. |
| 성현규  | git으로 프로젝트 관리하는 법에 대한 이해도가 높게 올랐고, 전혀 모르던 Django라는 백엔드 스택과 AWS에 실제로 업로드를 해보며 페이지 구현에 대한 이해도가 올랐다. 또한 NLP의 Bert, KeyBert등을 다루어보며 관련 과정들에 대한 지식을 갖출 수 있었다. |
| 강아현  | 기존 프로젝트를 진행할 때는 기술 구현에만 신경을 쓰면서 진행했었는데, 이번 프로젝트를 통해 기술도 중요하지만 프로젝트를 진행하면서 발생하는 issue나 진행상황에 대한 기록도 중요하다는 것을 느꼈다.<br> OCR과 NER을 결합한 형태의 프로젝트를 진행해 본 경험은 있었으나 기본 라이브러리를 사용하는 것에 국한된 프로젝트였기에 이번 프로젝트로 두 분야를 깊게 파볼 수 있었던 점이 공부가 되었다. Django로 웹 페이지 구현도 해보면서 html, css 코드에 대한 이해도가 조금은 올라간 것 같다. 모듈이 어떤 식으로 연결되어 어떻게 작동이 되는 건지도 배울 수 있었다. <br>더불어 github과 좀 더 많이 친해질 수 있는 시간을 가졌던 것 같다. Markdown 문법을 더 익힐 수 있었고, Merge가 안되는 수많은 충돌을 경험할 수 있었다. Git을 통한 협업이 익숙치 않았고 경험이 전무했는데, 이번 프로젝트로 깃협업에 한발짝 다가갈 수 있었던 것 같다. |
| 서이환 | 모델링을 구성하고 내가 직접 파라미터를 바꾸며 학습시키고 최적의 값을 찾기에 많은 시간을 사용했으며, 하나의 쉬운 서비스에도 다양한 모델 기술들이 필요함을 알 수 있었다. 간트차트와 스크럼을 이용하여 프로젝트에서 단계적으로 발전시킬 수 있는 애자일 방법을 직접 사용하여 설계 기술의 중요성이 와닿았다 |


### 🔥이슈 관리

| No.  | Name   | Content                                                      | Solve    | follow-up                                                    |
| ---- | ------ | ------------------------------------------------------------ | -------- | ------------------------------------------------------------ |
|     1|        | 직접 찍은 이미지에서 가격표만 크롭하는데 어려움<br />- 가격표만 인식하는 모델들은 몇 개 있지만 대부분이 외국어 데이터 | 해결 완료 | |
|     2|        | 추출된 텍스트에서 NER로 상품명만 추출하는 것에 문제<br />- 다른 모델을 돌릴 떄는 train에 오버피팅되어 새로운 text에 적용하기 어려움<br />- train 시킬 데이터 부족<br />- 인식된 텍스트가 많은 경우 태깅 어려움<br />- roi 영역을 지정하기에는 가격표마다 디자인과 텍스트의 위치가 다른 문제 | | |
|     3|        | OCR 진행 후 띄어쓰기 문제<br />- 상품명을 하나로 묶어서 처리해야하는데<br />-텍스트를 추출하고 나서 상품명에 띄어쓰기가 있는 경우 처리 어려움 | 해결 완료 | OCR을 이미지 내 y축을 기준으로 그룹핑|
|     4|        | 가격을 태깅할 때 문제<br />- 가격이 텍스트의 앞쪽에 위치한 경우 가격 태그로 인식하지 못하는 문제<br />-가격 태그가 2개 이상 추출되는 경우가 발생 | 해결 완료 | 노이즈 데이터 생성 및 앙상블 모델 생성 |
|     5|        | React <-> Django 연결에 어려움 | | django로 웹 화면 구현, 추후 react 연결로 웹 구현 예정 |


### 🎨 서비스 구현
| No   | 기능                                                         | 기능 설명                                                    | 구현 정도 | 실제 구현 수준                             |
| ---- | ------------------------------------------------------------ | ------------------------------------------------------------ | ---------------- | ------------------------------------------ |
|     1| 이미지 업로드 | 사용자가 가격표를 인식하고 싶은 이미지를 업로드<br />- 가격을 비교하고 싶은 상품의 가격표를 포함하고 있는 이미지를 업로드 | | |
|     2| 가격표 추출 결과 | 크롭된 가격표 이미지<br />- 상품명, 가격 정보를 사용자에 제공 | | |
|     3| 최저가 정보 | 해당 상품의 최저가 사이트를 사용자에 제공 | | 쇼핑몰 사이트에서 크롤링 된 상품 정보를 낮은 가격 순으로 정렬하여 사용자에 제공 |
|     4| 쇼핑몰 선택 버튼 | 원하는 쇼핑몰을 선택하여 가격 비교 서비스 제공 | | |




### 🤔 느낀점

> **최갑주**
- 내가 막히는 부분을 팀원들의 작업을 보면서 배우며 부족한 점을 채울 수 있었고, 짧은 기간 안에 compact하게 작업을 진행 해 보니 필드에서 발생할 여러 상황들에 대해 어떻게 대처해야 하는지 등을 미리 겪어 볼 수 있어 좋았다.

> **성현규**
- 단기간에 프로젝트를 진행하다보니 팀 단위 작업에 대한 숙련도가 빠르게 올랐고, 모델링 및 백엔드, 프론트분야를 연결하는 과정을 진행하며 각 분야에 대해서 폭넓은 지식을 갖추어야 이슈상황에 잘 대처할 수 있다는 것을 알게 되었다.

> **김정연**
- 단순 AI모델 구현에 그치는 것이 아닌 배포를 위한 서버와 웹페이지 구성을 함께 고민해봄으로, 개발 중 발생하는 다양한 이슈 해결 및 결과물을 합기 위해서는 팀원들간 사전 소통이 중요하다는 것을 다시한번 느꼈다.
- 원하는 기능의 AI모델링을 위해 다양한 데이터 전처리 작업을 시도할 수 있어서 좋았습니다. (이미지 어노테이션, 텍스트 불용어 처리). 또 이에 그치지 않고 웹페이지 구현을 통해 AI모델 배포과정을 이해할 수 있었습니다.

> **강아현**

-  다소 짧았던 기간동안 진행되는 프로젝트이기 때문에 팀원들 간의 협업이 중요했는데, 안되는 부분이 있으면 어떻게든 해결을 해준 팀원들 덕분에 프로젝트를 마무리할 수 있었던 것 같다. 앞으로 프로젝트를 진행할 때 어떤 식으로 진행해야 좋을 지 감이 잡힌 것 같다. 다양한 이슈들을 경험하고 이를 처리하는 과정에서 배운 점들이 많았다.
- _이 프로젝트는 웹으로만 구현이 되었지만 추후 앱으로도 구현해보면 좋을 것 같다._

> **서이환**

-  처음 인공지능 프로젝트를 진행해서 어려웠고 NLP 모델에 대해서 잘 알지 못했지만 모델링까지 구현했다는 점이 정말 뜻깊었다! 그리고 개발 측면에서 수업시간에 배웠던 WBS, 간트 차트 등으로 개발일지를 작성해서 단계적으로 나아가는 점이 좋았다.
-  팀원들끼리 부족한 부분에 대해서 같이 논의하고 마지막까지 포기하지 않고 완료할 수 있어서 좋았습니다


---

[readme 참고 페이지 출처](https://github.com/siwon-park/Movie_Community_Web/blob/master/README.md)
